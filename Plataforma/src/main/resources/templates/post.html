<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Post</title>

<script th:src="@{/js/jquery.min.js}"></script>

<link rel="stylesheet" th:href="@{/css/bootstrap.css}" />

<script th:src="@{/js/bootstrap.js}"></script>



<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">

<link rel="stylesheet"
	href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet"
	href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>


<link rel="stylesheet" th:href="@{/css/froala_editor.css}" />
<link rel="stylesheet" th:href="@{/css/froala_style.css}" />

<link rel="stylesheet" th:href="@{/css/plugins/code_view.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/colors.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/emoticons.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/image_manager.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/image.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/line_breaker.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/quick_insert.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/table.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/file.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/char_counter.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/video.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/emoticons.css}" />
<link rel="stylesheet" th:href="@{/css/plugins/fullscreen.css}" />

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.css">

<style type="text/css">
/* body {
	text-align: center;
	margin: 0;
}

div#editor {
	width: 81%;
	margin: auto;
	text-align: left;
} */
.invisivel {
	display: none;
}
</style>

</head>
<body>

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/figuras">Plataforma</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarNav" aria-controls="navbarNav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" href="/categorias">Categorias
				</a></li>
				<li class="nav-item"><a class="nav-link" href="/tags">Tags</a></li>
				<li class="nav-item"><a class="nav-link" href="/materiais">Materiais</a></li>


			</ul>
		</div>
	</nav>

	<div class="container-fluid">

		<div class="row" style="margin: 40px 0">

			<div class="col-md-2" style="border-right: 1px solid #ccc">

				<div
					class="input-group input-group-sm mb-3 d-flex justify-content-center"
					style="margin-bottom: 10px;">
					<input type="text" class="form-control" aria-label="Small"
						aria-describedby="inputGroup-sizing-sm" name="filtro"
						id="filtrar-tabela" placeholder="Pesquisar material">
				</div>


				<div th:each="material : ${materiais}" style="padding: 5px 0"
					class="material text-center">

					<div class="card p-1"
						th:if="${#strings.contains(material, 'Figura')}">

						<div class="card-header text-right"
							style="padding: 2px 2px; margin-bottom: 2px; font-size: 0.8em">
							<a th:href="@{${'http://localhost:3000/' + material.url }}"
								class="badge badge-info" target="_blank">Exibir</a>
						</div>

						<a href="#" data-toggle="modal"
							th:data-target="'#cam_' + ${material.id}" title="Detalhes"> <img
							class="card-img-top text-center"
							th:src="@{${'http://localhost:3000/' + material.url }}" alt="Img"
							border="0" />

						</a>

						<div class="card-body text-center"
							style="margin: 0; padding: 2px 0">


							<small><p class="card-title nome"
									th:text="${material.nome}" style="margin: 0; padding: 2px 0"></p></small>

						</div>

					</div>

				</div>






			</div>

			<div class="col-md-8">


				<div id="editor" style="margin-left: 40px;">
					<div id='edit'>

						<h2>TÃ­tulo</h2>

					</div>
				</div>


			</div>

			<div class="col-md-2" style="border-left: 1px solid #ccc">

				<h5 style="margin-top: 0; padding-top: 0">Categorias</h5>


				<th:block th:each="categoria : ${categorias}">

					<div style="margin: 10px 0;">

						<label class="mdl-switch mdl-js-switch mdl-js-ripple-effect"
							th:for="${categoria.id}"> <input type="checkbox"
							th:field="*{categorias}" th:value="${categoria.id}"
							th:id="${categoria.id}" class="mdl-switch__input"> <span
							class="mdl-switch__label" th:text="${categoria.nome}"></span>
						</label>
						
					</div>

				</th:block>

			</div>


		</div>





	</div>


	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/mode/xml/xml.min.js"></script>

	<script th:src="@{/js/froala_editor.min.js}"></script>
	<script th:src="@{/js/plugins/align.min.js}"></script>
	<script th:src="@{/js/plugins/code_beautifier.min.js}"></script>
	<script th:src="@{/js/plugins/code_view.min.js}"></script>
	<script th:src="@{/js/plugins/colors.min.js}"></script>
	<script th:src="@{/js/plugins/emoticons.min.js}"></script>
	<script th:src="@{/js/plugins/draggable.min.js}"></script>
	<script th:src="@{/js/plugins/font_size.min.js}"></script>
	<script th:src="@{/js/plugins/font_family.min.js}"></script>
	<script th:src="@{/js/plugins/image.min.js}"></script>
	<script th:src="@{/js/plugins/image_manager.min.js}"></script>
	<script th:src="@{/js/plugins/line_breaker.min.js}"></script>
	<script th:src="@{/js/plugins/quick_insert.min.js}"></script>
	<script th:src="@{/js/plugins/link.min.js}"></script>
	<script th:src="@{/js/plugins/lists.min.js}"></script>
	<script th:src="@{/js/plugins/paragraph_format.min.js}"></script>
	<script th:src="@{/js/plugins/paragraph_style.min.js}"></script>
	<script th:src="@{/js/plugins/video.min.js}"></script>
	<script th:src="@{/js/plugins/table.min.js}"></script>
	<script th:src="@{/js/plugins/url.min.js}"></script>
	<script th:src="@{/js/plugins/emoticons.min.js}"></script>
	<script th:src="@{/js/plugins/file.min.js}"></script>
	<script th:src="@{/js/plugins/entities.min.js}"></script>
	<script th:src="@{/js/plugins/inline_style.min.js}"></script>
	<script th:src="@{/js/plugins/save.min.js}"></script>
	<script th:src="@{/js/plugins/fullscreen.min.js}"></script>


	<script type="text/javascript">
		var campo = document.querySelector("#filtrar-tabela");

		campo.addEventListener("input", function() {

			var materiais = document.querySelectorAll(".material");

			if (this.value.length > 0) {

				for (var i = 0; i < materiais.length; i++) {

					var material = materiais[i];

					var pNome = material.querySelector(".nome");

					var nome = pNome.textContent;

					var expressao = new RegExp(this.value, "i");

					if (!expressao.test(nome)) {

						material.classList.add("invisivel");

					} else {

						material.classList.remove("invisivel");
					}
				}

			} else {

				for (var i = 0; i < materiais.length; i++) {

					var material = materiais[i];

					material.classList.remove("invisivel");

				}

			}

		});

		$(document).ready(
				function() {

					$('#edit').froalaEditor(
							{
								toolbarInline : true,
								toolbarButtons : [ 'bold', 'italic',
										'underline', 'strikeThrough', 'color',
										'emoticons', 'undo', 'redo', '-',
										'paragraphFormat', 'align', 'formatOL',
										'formatUL', 'indent', 'outdent',
										'insertLink' ],
								toolbarButtonsXS : null,
								toolbarButtonsSM : null,
								toolbarButtonsMD : null,

								imageDefaultAlign : 'center',

								quickInsertButtons : [ 'embedly', 'table',
										'ul', 'ol', 'hr' ],
								imageEditButtons : [ 'imageAlign',
										'imageRemove', 'imageDisplay',
										'imageStyle', 'imageSize' ]
							});

					$("h1").click(
							function() {

								var markupStr = $('#edit').froalaEditor(
										'html.get', true);

								console.log(markupStr);
							});

				});
	</script>



</body>
</html>