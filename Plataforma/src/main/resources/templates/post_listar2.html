<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Post listar</title>

<script th:src="@{/js/jquery.min.js}"></script>


<link rel="stylesheet" th:href="@{/css/bootstrap.css}" />

<script th:src="@{/js/bootstrap.js}"></script>

<link rel="stylesheet"
	href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
	type="text/css">

<style type="text/css">

body {
	font-family: 'Roboto', sans-serif !important;
}

.box {
	position: relative;
	display: inline-block; /* Make the width of box same as image */
}

.box .text {
	position: absolute;
	z-index: 999;
	margin: 20px 20px;
	left: 0;
	right: 0;
	top: 0;
	/* Adjust this value to move the positioned div up and down */
	text-align: left;
	width: 0;
	opacity: 0.7;
	  /* Set the width of the positioned div */
}
</style>

</head>
<body>

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/figuras">Plataforma</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarNav" aria-controls="navbarNav"
			aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav">
				<li class="nav-item"><a class="nav-link" href="/categorias">Categorias
				</a></li>
				<li class="nav-item"><a class="nav-link" href="/tags">Tags</a></li>
				<li class="nav-item"><a class="nav-link" href="/materiais">Materiais</a></li>


			</ul>
		</div>
	</nav>

	<div class="container-fluid">

	
		<!--  -->

		<div class="row" style="margin-top: 15px">

			<div class="col-md-8">

				<div style="margin-top: 20px; padding: 10px 10px; margin-bottom: 40px"
					th:each="post : ${posts}">

					<div class="box">

						<img th:src="${post.destaque}" class="img-fluid"/>

						<div class="text">

							<h1 th:src="${post.destaque}">
								<span class="badge"
									style="background-color: #AB0F41; color: #fff"
									th:text="${post.titulo}"></span>

							</h1>

						</div>

					</div>

					<div style="margin-top: 20px; font-size: 1.2em"
						th:id="'conteudo_' +${post.id}"></div>



					<th:block th:each="categoria : ${post.categorias}">

						<small><span th:text="${categoria.nome}"
							style="padding: 4px; margin: 6px 2px 6px 0px; background-color: #212529; color: #fff"></span></small>

					</th:block>


				</div>


			</div>


			<div class="col-md-4" style="margin-top: 12px;">

				<div th:each="material : ${materiais}" class="text-center"
					id="materiais">
					
					<div class="card p-2 m-3"
								th:if="${#strings.contains(material, 'Figura')}">

								<div class="card-header text-right"
									style="padding: 4px 4px; margin-bottom: 8px">
																			
										<small class="badge badge-info" 
											th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy')}"></small>
										
								</div>

								<a href="#" data-toggle="modal"
									th:data-target="'#cam_' + ${material.id}" title="Detalhes">
									<img class="card-img-top text-center"
									th:src="@{${'http://localhost:3000/' + material.url }}"
									alt="Img" border="0" />

								</a>

								<div class="card-body text-center"
									style="margin: 0; padding: 2px 0">


									<p class="card-title" th:text="${material.nome}"
										style="margin: 0; padding: 2px 0"></p>


								</div>

							</div>

							<div class="card p-2 m-3"
								th:if="${#strings.contains(material, 'Texto')}">

								<div class="card-header text-right"
									style="padding: 4px 4px; margin-bottom: 8px">
																			
										<small class="badge badge-info" 
											th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy')}"></small>
										
								</div>


								<span class="text-center"> <a href="#"
									data-toggle="modal" th:data-target="'#cam_' + ${material.id}"
									title="Detalhes"> <img class="card-img-top"
										src="/figuras/iconPdf.png" alt="Img"
										style="width: 96px; height: 96px;" border="0">

								</a>
								</span>

								<div class="card-body text-center"
									style="margin: 0; padding: 2px 0">
									<p class="card-title" th:text="${material.nome}"></p>


								</div>

							</div>

							<div class="card p-2 m-3"
								th:if="${#strings.contains(material, 'Audio')}">

								<div class="card-header text-right"
									style="padding: 4px 4px; margin-bottom: 8px">
																			
										<small class="badge badge-info" 
											th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy')}"></small>
										
								</div>


								<span class="text-center"> <a href="#"
									data-toggle="modal" th:data-target="'#cam_' + ${material.id}"
									title="Detalhes"> <img class="card-img-top"
										src="/figuras/iconMp3.png" alt="Img"
										style="width: 96px; height: 96px;" border="0">

								</a>
								</span>

								<div class="card-body text-center"
									style="margin: 0; padding: 2px 0">
									<p class="card-title" th:text="${material.nome}"
										style="margin: 0; padding: 2px 0"></p>

								
								</div>

							</div>

							<div class="card p-2 m-3"
								th:if="${#strings.contains(material, 'Video')}">

								<div class="card-header text-right"
									style="padding: 4px 4px; margin-bottom: 8px">
																			
										<small class="badge badge-info" 
											th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy')}"></small>
										
								</div>

								<span class="text-center"> <a href="#"
									data-toggle="modal" th:data-target="'#cam_' + ${material.id}"
									title="Detalhes"> <img class="card-img-top"
										src="/figuras/iconVideo.png" alt="Img"
										style="width: 96px; height: 96px;" border="0">

								</a>
								</span>

								<div class="card-body text-center"
									style="margin: 0; padding: 2px 0">
									<p class="card-title" th:text="${material.nome}"
										style="margin: 0; padding: 2px 0"></p>


								</div>

							</div>


					<!-- <div class="card p-1 m-3 material"
						th:if="${#strings.contains(material, 'Figura')}">


						<a href="#" data-toggle="modal"
							th:data-target="'#cam_' + ${material.id}" title="Detalhes"> <img
							class="card-img-top text-center"
							th:src="@{${'http://localhost:3000/' + material.url }}" alt="Img"
							border="0" />

						</a>

						<div class="card-body text-center"
							style="margin: 0; padding: 2px 0">


							<p class="card-title" th:text="${material.nome}"
								style="margin: 0; padding: 2px 0"></p>

							<p class="card-text text-muted">
								<small
									th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy HH:mm')}"></small>
							</p>

						</div>

					</div>


					<div class="card p-1 m-3 material"
						th:if="${#strings.contains(material, 'Texto')}"
						style="padding: 5px 0">

						<div class="card-body text-center"
							style="margin: 0; padding: 2px 0">

							<a th:href="@{${'http://localhost:3000/' + material.url }}"
								target="_blank" th:title="${material.nome}"
								th:text="${material.nome}"> </a>


							<p class="card-text text-muted">
								<a href="#" data-toggle="modal"
									th:data-target="'#cam_' + ${material.id}"
									class="badge badge-info" target="_blank">Texto</a> <small
									th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy HH:mm')}"></small>
							</p>
						</div>

					</div>



					<div class="card p-1 m-3 material"
						th:if="${#strings.contains(material, 'Audio')}"
						style="padding: 5px 0">

						<div class="card-body text-center"
							style="margin: 0; padding: 2px 0">

							<a th:href="@{${'http://localhost:3000/' + material.url }}"
								target="_blank" th:title="${material.nome}"
								th:text="${material.nome}"> </a>



							<p class="card-text text-muted">
								<a href="#" data-toggle="modal"
									th:data-target="'#cam_' + ${material.id}"
									class="badge badge-info" target="_blank">Áudio</a> <small
									th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy HH:mm')}"></small>
							</p>
						</div>

					</div>

					<div class="card p-1 m-3 material"
						th:if="${#strings.contains(material, 'Video')}"
						style="padding: 5px 0">

						<div class="card-body text-center"
							style="margin: 0; padding: 2px 0">

							<a th:href="@{${'http://localhost:3000/' + material.url }}"
								target="_blank" th:title="${material.nome}"
								th:text="${material.nome}"> </a>



							<p class="card-text text-muted">
								<a href="#" data-toggle="modal"
									th:data-target="'#cam_' + ${material.id}"
									class="badge badge-info" target="_blank">Vídeo</a> <small
									th:text="${#temporals.format(material.dataRegistro, 'dd/MM/yyyy HH:mm')}"></small>
							</p>
						</div>

					</div> -->

				</div>

			</div>

		</div>

	</div>





	<script type="text/javascript" th:inline="javascript">
		/*<![CDATA[*/
			
			let posts = [[${posts}]];
		
		
			posts.forEach((post) => {
				
				let cam = '#conteudo_' + post.id;
				document.querySelector(cam).innerHTML = post.conteudo;
				
				//audio.innerHTML
			});
		
		

		/*]]>*/
	</script>
</body>
</html>